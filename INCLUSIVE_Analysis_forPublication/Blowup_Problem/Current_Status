November 3, 2025
--> Devised the plan for the studies to run for the blowup problem

November 5, 2025
--> Submitted all the jobs to the grid: yes lownu, no lownu for yes remove electron neutrinos, no don't remove
    electron neutrinos, for MAD ME1A, MAD ME6A, CCQENu ME1A for all three variations of the muon curvature sig cut


November 7, 2025
--> The jobs from earlier just showed that skipping over the electron neutrino events didn't make a difference on the muon
    systematics plot, so we can just not run over that option anymore
--> But we need to run over the options again, this time put in LE for no lownu flux param. and also, for faster running
    just keep the muon reconstruction systematic error band turned on

November 15, 2025
--> The root files were moved over to /exp/minerva/data/

November 18, 2025
--> Ran all the playlists with all the systematics turned on 
--> Efficiency 1M is still the one running, needed to add that into the combined eff file and extract xsec
    again
--> Ran over all stats and 10 iterations and the blowup problem is showing up for every mode basically

Crazy Discovery: Antineutrino LE 
--> From the other day when we ran with only the muon systematics, unfolding that with 10 iterations still yields no blowup
    for antineutrino LE
    --> no blowup with 3 iterations, but breakdown still doesn't match 3 iterations breakdown plot from earlier
--> Howeover, now when I ran with all the systematics (that was the only intended difference) there is no blowup with
    3 iterations, and no blowup with 10 iterations either

Summary of Problem
Here’s 2 runs of what should’ve been the same thing:
NO BLOWUP: /exp/minerva/data/users/mmehmood/default_anaysis_loc/Nov14/MAD_minerva5_Sample2_SemiCurv/xsec_notBinWidthNorm_10iter.root
YES BLOWUP: /pnfs/minerva/persistent/users/mmehmood/default_analysis_loc/LE_antinuRHC_Sample2_SemiCurv/xsec_notBinWidthNorm.root

The only intended difference was that the run yielding Yes blowup was done to just repeat with all systematics 
since the other one only has the muon systematics 

TO DO: Run the November 7th sample this time with 10 iterations to see if we're getting the blowups that we're seeing
             with the November 18th sample which is basically all stats and all systematics turned on (only intentional diff)

November 18, 2025 Evening
--> Submitted the antineutrino LE again to see what I would get this time


November 21, 2025
p7 production may fix it, see David's slides from the previous data preservation meeting for those notes, fixing
a problem with the minos match for 850 mm events?

December 1, 2025
--> Make the plots with 4 ratio histograms on each for both universes
--> Double check how we flattened the histogram with OF and UF
--> Now need to investigate the off diagonals of the migration matrix

The current findings are that the efficiency and the diagonal fraction are around the same, hence, the difference must be in the tiny
off-diagonal structure
--> Zoom out and see the size of the blowup
--> Try with fewer iterations
--> RESEARCH and find the sizes of the shifts
--> before and after differences when running over all stats and all systematics, what's going on there

Block 1 – Ratios & sanity checks
Goal: “I have clear visual evidence of where the blowup lives.”
	1.	✅ Make the plots with 4 ratio histograms on each for both universes
	•	eff_univ / eff_CV
	•	diagfrac_univ / diagfrac_CV
	•	bkg-subtracted reco data (univ/CV)
	•	unfolded (univ/CV)
	2.	✅ Double check how you flattened the histogram with OF and UF
	•	Confirm bin order (UF, in-range, OF) is consistent between:
	•	migration matrix building
	•	efficiency denominator
	•	plotting
	•	Write a 2–3 line comment in your code explaining the convention so you don’t have to remember later.
	3.	✅ Zoom out and see the size of the blowup
	•	One plot with y from 0–2 across all pt–pz bins, including UF/OF.
	•	Mark the crazy bins with a vertical band or note them.

⸻

Block 2 – Migration matrix structure / off-diagonals
Goal: “I know if the difference comes from off-diagonal weirdness.”
	4.	✅ Investigate off-diagonals of the migration matrix
	•	Compare CV vs blowup universe:
	•	Column-normalized (reco-side) matrices → “purity style”
	•	Row-normalized (truth-side) matrices → “stability style”
	•	Look at:
	•	Sum of near-diagonal bands (e.g. |Δbin| = 1–2)
	•	Any weird horizontal/vertical streaks in problematic bins.
	5.	(Optional) Try with fewer iterations
	•	Re-run unfolding with, say, 2, 4, 6 iterations vs your current choice.
	•	Check if blowup shrinks or is stable:
	•	If it shrinks → likely an over-iterating / noise amplification issue.
	•	If it doesn’t → likely something structural (flux, matrix, stat, etc.).

⸻

Block 3 – Global picture / “research” pass
Goal: “I have a numbers-based sense of how big these shifts should be.”
	6.	✅ RESEARCH and find the sizes of the shifts
	•	From docs/notes/previous MINERvA/DUNE plots: what’s the typical percent shift for this systematic and variable?
	•	Write down: “Expected scale: ~X–Y% in bulk, maybe up to Z% at edges.”
	7.	✅ Before/after differences over all stats and all systematics
	•	For the problematic bins:
	•	Compare: stat-only vs stat+this syst.
	•	Check if “all syst” is being dominated by this one universe or if others are also large.
	•	Note: Is the blowup specific to unfolding, or already present in bkg-subtracted reco?
	•	If only in unfolded → unfolding/matrix/iterations issue.
	•	If already present in reco → something upstream (selection, weights, etc.).
